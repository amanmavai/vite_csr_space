import{R as t,j as r}from"./index-Dwl8SYM8.js";const h=(l,a)=>{const s=t.useRef(!0);t.useEffect(()=>{const o=()=>{if(!l.current)return;const{scrollTop:u,scrollHeight:c,clientHeight:f}=l.current;u+f>=c-5&&a()},n=l.current;return n&&(n.addEventListener("scroll",o),s.current&&(a(),s.current=!1)),()=>{n&&n.removeEventListener("scroll",o)}},[a])};function g(){const[l,a]=t.useState([]),[s,o]=t.useState(!1),[n,u]=t.useState(null),[c,f]=t.useState(0),p=t.useRef(null),d=t.useCallback(async()=>{if(!s)try{o(!0);const e=await fetch(`https://api.github.com/users?since=${c}&per_page=15`);if(!e.ok)throw new Error("Network response was not ok");const i=await e.json();a(x=>[...x,...i]),i.length>0&&f(i[i.length-1].id)}catch(e){u(e)}finally{o(!1)}},[c,s]);return h(p,d),r.jsx("div",{className:"flex justify-center text-3xl text-primary",children:r.jsxs("ul",{ref:p,className:"flex h-96 w-96 flex-col gap-2 overflow-auto border border-primary p-2 text-base text-primary",children:[l.map(e=>r.jsxs("li",{className:"flex items-center justify-between px-4",children:[r.jsx("img",{src:e.avatar_url,alt:e.login,className:"h-8 w-8 rounded-full"}),r.jsx("p",{children:e.login})]},e.login)),s&&r.jsx("p",{children:"Loading..."}),n&&r.jsx("p",{children:"Error"})]})})}export{g as Component};
