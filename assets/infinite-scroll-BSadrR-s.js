import{R as e,j as s}from"./index-B2JVH5I8.js";const m=(a,o)=>{const r=e.useRef(!0);e.useEffect(()=>{const c=()=>{if(!a.current)return;const{scrollTop:u,scrollHeight:l,clientHeight:f}=a.current;u+f>=l-5&&o()},n=a.current;return n&&(n.addEventListener("scroll",c),r.current&&(o(),r.current=!1)),()=>{n&&n.removeEventListener("scroll",c)}},[o])};function j(){const[a,o]=e.useState([]),[r,c]=e.useState(!1),[n,u]=e.useState(null),[l,f]=e.useState(0),p=e.useRef(null),d=e.useCallback(async()=>{if(!r)try{c(!0);const h=await fetch(`https://api.github.com/users?since=${l}&per_page=15`,{headers:{Authorization:"Bearer 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"}});if(!h.ok)throw new Error("Network response was not ok");const i=await h.json();o(x=>[...x,...i]),i.length>0&&f(i[i.length-1].id)}catch(t){u(t)}finally{c(!1)}},[l,r]);return m(p,d),s.jsx("div",{className:"flex justify-center text-3xl text-primary",children:s.jsxs("ul",{ref:p,className:"flex h-96 w-96 flex-col gap-2 overflow-auto border border-primary p-2 text-base text-primary",children:[a.map(t=>s.jsxs("li",{className:"flex items-center justify-between px-4",children:[s.jsx("img",{src:t.avatar_url,alt:t.login,className:"h-8 w-8 rounded-full"}),s.jsx("p",{children:t.login})]},t.login)),r&&s.jsx("p",{children:"Loading..."}),n&&s.jsx("p",{children:"Error"})]})})}export{j as Component};
